{"componentChunkName":"component---src-templates-post-jsx","path":"/osx-ubuntu-pare-bluetooth-mus/","result":{"data":{"site":{"siteMetadata":{"title":"mikkelrask.github.io"}},"markdownRemark":{"id":"15018002-2579-5a56-ac2a-552428c21359","excerpt":"Da jeg roder meget med arduinos og lignene microcontrollere, afhÃ¦nger jeg en smule af Arduino IDE, og efter seneste OSX beta; Mojave mangles der support/drivere til den USB til serial forbindelse manâ€¦","html":"<p>Da jeg roder meget med arduinos og lignene microcontrollere, afhÃ¦nger jeg en smule af Arduino IDE, og efter seneste OSX beta; Mojave mangles der support/drivere til den USB til serial forbindelse man bruger til at â€˜snakkeâ€™ med sine microcontrollere via USB kabel. Lang historie kort, er det endt med at jeg har partitioneret en del af min SSD harddisk, og har (ligesom BrÃ¸nderslev Kommune) valgt at installere Ubuntu Gnome 17.04 â€” et skrivebordsmiljÃ¸ Ã¡ la det som vi kender som fx Windows eller Mac OSX. Det kan selvfÃ¸lgeligt af de fleste ses som vÃ¦rende mega overkill at installere et helt styresystem for at bruge en enkelt applikation, men jeg gjorde det ligesÃ¥ meget for at lÃ¦re noget mere om Linux, og forventer lidt mere stabilitet end ved at fx bruge en virtuel maskine a la VM Ware el. Virtualbox. Men problemerne stopper selvfÃ¸lgeligt ikke der! Jeg bruger nemlig med trÃ¥dlÃ¸s bluetooth mus og tastatur, og det komplicerede er her, at hver gang jeg booter op i et af mine to styresystemer, skal jeg pÃ¥ ny pare mine bluetooth enheder med det pÃ¥gÃ¦ldende system, da der ved successfuld paring genereres et unikt sÃ¦t linkkeys/paringskoder/passkeys, som bliver gemt sammen med enhedens MAC adresse.</p>\n<p>Den problemstilling findes der selvfÃ¸lgeligt nok ligesÃ¥ mange lÃ¸sninger pÃ¥, som der findes linuxdistributioner (og her i 2018 er det er en god sjat), men jeg mÃ¥tte selv klatte sammen hvad jeg kunne finde af informationer pÃ¥ emnet, sÃ¥ jeg tÃ¦nkte at jeg ville skrive ned hvad jeg gjorde, for at fÃ¥ kopieret mine nÃ¸gler fra mit MacOSx over i mit Ubuntu Gnome miljÃ¸. Det burde virke pÃ¥ de fleste debian baserede linux distributioner, men som med alt i livet, er der ingen garantier.\nTL;DR</p>\n<ul>\n<li>Start Linux og par dine bluetooth enheder</li>\n<li>Genstart ind i MacOSx og par dine enheder</li>\n<li>Ã…ben Terminal.app og indtast fÃ¸lgende kommando</li>\n<li>sudo defaults read /private/var/root/Library/codeferences/com.apple.Bluetoothd.plist</li>\n</ul>\n<p>Det skulle gerne give dig en kode a la det her alt efter hvor mange enheder du har tilsluttet:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token punctuation\">{</span>\n    LinkKeys <span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>\n        â€œ20-c9-d0-d6-74-c6â€ <span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>\n            â€œ18-65-90-c3-42-20â€ <span class=\"token operator\">=</span> <span class=\"token operator\">&lt;</span>9377f610 4e181397 abfc8ee2 4f23809e<span class=\"token operator\">></span><span class=\"token punctuation\">;</span> 9E80234FE28EFCAB9713184E10F67793â€œ60-fb-42-08-75-46â€ <span class=\"token operator\">=</span> <span class=\"token operator\">&lt;</span>3eb7b757 cd6584ad <span class=\"token number\">94087957</span> 72093bfe<span class=\"token operator\">></span><span class=\"token punctuation\">;</span> FE3B097257790894AD8465CD57B7B73E\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    MagicCloudPairingMasterHint <span class=\"token operator\">=</span> <span class=\"token operator\">&lt;</span>406ca4bd c1b45238 4bef9c4b 4f63e7b<span class=\"token operator\"><span class=\"token file-descriptor important\">3</span>></span><span class=\"token punctuation\">;</span>\n\n    MagicCloudPairingMasterKey <span class=\"token operator\">=</span> <span class=\"token operator\">&lt;</span>90b72662 cad1aa37 d1ab2393 f42a2cca<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">20-c9-d0-d6â€“74-c6</code> er sÃ¥ MAC adressen (det stÃ¥r for â€œMedia Access Control Addressâ€ og har ikke noget med Appleâ€™s mac at gÃ¸re) pÃ¥ min bluetooth modtager i min Macbook, og under adressen er mine to enheder sÃ¥ listet med hver sin MAC adresse, som hhv. er <code class=\"language-text\">18â€“65â€“90-c3â€“42â€“20</code> og <code class=\"language-text\">60-fb-42â€“08â€“75â€“46</code>. Efter hver MAC adresse har vi de paringskoder/linkkeys/passkeys vi skal bruge pakket ind i stÃ¸rre end og mindre end tegnene â€” i mit tilfÃ¦lde hhv. <code class=\"language-text\">9377f610</code> <code class=\"language-text\">4e181397</code> <code class=\"language-text\">abfc8ee2</code> <code class=\"language-text\">4f23809e</code> og <code class=\"language-text\">3eb7b757</code> <code class=\"language-text\">cd6584ad</code> <code class=\"language-text\">94087957</code> <code class=\"language-text\">72093bfe</code>. Kopier hele teksten og gem det evt. pÃ¥ din linux partition eller i skyen, hvor du har adgang til det, nÃ¥r du er genstartet i linux. Send det som en mail, hvis ikke du kan komme pÃ¥ andet â€” jeg brugte som altid <a href=\"https://evernote.com\">Evernote</a>.</p>\n<p>Genstart nu og boot ind i linux â€” her skal du jo sÃ¥ bruge en mus og et tastatur med kabel hvis ikke du ligesom mig bruger en bÃ¦rebar. Du mÃ¥ endeligt <strong>ikke</strong> pare dine bluetooth enheder pÃ¥ dette tidspunkt!</p>\n<p>Ã…ben en terminal og skift til root bruger med <code class=\"language-text\">sudo -i</code></p>\n<p>Nu skal vi konvertere de koder vi fandt i Mac OSx, til det korrekte format som er:</p>\n<ul>\n<li>Ingen mellemrum</li>\n<li>Kun store bogstaver</li>\n<li>Parvis i omvendt rÃ¦kkefÃ¸lge.</li>\n</ul>\n<p>Forvirret? Vi laver et fiktivt eksempel â€” lad os antage at din paringskode fra din mac er abfc8ee2</p>\n<p>Tag de to fÃ¸rste tegn (a og b) og sÃ¦t dem bagerst â€” de to nÃ¦ste tegn (f og c) og sÃ¦tter nÃ¦stbagerst og sÃ¥ fremdeles sÃ¥ vi ender med en kode der ser sÃ¥dan ud E28EFCAB</p>\n<p>Giver det stadig ikke mening kan du bruge denne kommando til at automatisere dette for dig. Xâ€™erne udskifter du med din linkkey og resultatet bliver skrevet i terminalen â€” kopier denne.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">echo XXXXXXXX XXXXXXXX XXXXXXXX XXXXXXXX | sed 's/ //g;s/../\\U&amp;\\n/g' | tac | tr -d '\\n't</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>NÃ¥r du har dine korrekt formatterede linkkeys genereret skal du <code class=\"language-text\">cd</code> til din bluetooth konfigurations mappe\n<code class=\"language-text\">cd /var/lib/bluetooth/[DIN BLUETOOTH MAC ADRESSE]/[DIN MUS' MAC ADRESSE]</code> .</p>\n<p>Macadresserne har du i din gemte dokument fra tidligere</p>\n<p>I denne mappe ligger der kun 1 fil der hedder info â€” Ã¥ben den i din yndlingseditor fx gedit\ngedit info</p>\n<p>Udskift paringskoden (Linkkey=XXXXXXXXXXXXX) som din mus og linux generede ved fÃ¸rste boot i vores process, med den i vores udklipsholder (CTRL+V) og gem filen (CTRL+S).</p>\n<p>FortsÃ¦t nu samme process med dit tastatur\ncd /var/lib/bluetooth/[DIN BLUETOOTH MAC ADRESSE]/[DIT TASTATURS MAC ADRESSE]</p>\n<p>Rediger info filen med din konverterede tastatur linkkey.\ngedit info</p>\n<p>Og slut af med at genstarte enten din bluetooth service eller computer ved at indtaste en af fÃ¸lgende kommandoer</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">service bluetooth restart\nreboot</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Og det var faktisk dÃ©t! Det er som de fleste ting ikke sÃ¥ svÃ¦re, hvis man ved hvad man skal.</p>\n<p>BONUS: Bruger du i Ã¸vrigt ligesom mig Apple Magic Mouse (el. lign hÃ¸joplÃ¸snings mus) kan du lige fÃ¥ denne kommando med pÃ¥ vejen, sÃ¥ din mus ikke er sÃ¥ livlig.\nxinput --set-prop \"NAVNET PÃ… DIN MUS\" \"Device Accel Constant Deceleration\" 4</p>\n<p>4-tallet er hvad der styrer hastigheden pÃ¥ din mus. 1 er hurtigst 10 langsomst. Navnet pÃ¥ din mus finder du i info filen til din bluetooth konfiguration\ncat /var/lib/bluetooth/[DIN BLUETOOTH MAC ADRESSE]/[DIN MUS' MAC ADRESSE]/info</p>","frontmatter":{"title":"ğŸ–±ï¸ Pare bluetooth devices med dual-boot i Ubuntu og OSX","date":"September 16, 2018","update":null,"tags":["linux","osx","ble"],"series":null},"fields":{"slug":"/osx-ubuntu-pare-bluetooth-mus/","readingTime":{"minutes":4.51}}},"seriesList":{"edges":[{"node":{"id":"fde0ad94-0739-54e2-839a-ce71725866da","fields":{"slug":"/smart-doer-telephone/"},"frontmatter":{"title":"ğŸ“¡ Hverdagshack: Smart DÃ¸rtelephone med Blynk"}}},{"node":{"id":"15018002-2579-5a56-ac2a-552428c21359","fields":{"slug":"/osx-ubuntu-pare-bluetooth-mus/"},"frontmatter":{"title":"ğŸ–±ï¸ Pare bluetooth devices med dual-boot i Ubuntu og OSX"}}},{"node":{"id":"017f0593-153d-5356-a05c-799818cb8779","fields":{"slug":"/rapid-prototyping/"},"frontmatter":{"title":"ğŸ’¨ Rapid prototyping i react (nÃ¥r du vitterligt ikke kan finde ud af noget!)"}}},{"node":{"id":"2f2a60c7-f820-5959-8e57-206495ea5fc4","fields":{"slug":"/phishing-campaign/"},"frontmatter":{"title":"ğŸ£ Phishing kampagner tager dine penge mÃ¥ned for mÃ¥ned"}}},{"node":{"id":"ecb03a62-80f0-5853-9bae-6ad6c4f59be6","fields":{"slug":"/hvorfor-linux/"},"frontmatter":{"title":"ğŸ§ Hvorfor jeg bruger Linux - nÃ¥r jeg kan"}}},{"node":{"id":"61c061c4-c95f-5db1-bb23-384b2d9c83ed","fields":{"slug":"/krypterings-guide/"},"frontmatter":{"title":"ğŸ”’ Hvordan man krypterer (nÃ¦sten) alt"}}},{"node":{"id":"cc086b3e-e4db-5ad0-a253-49c50b20e798","fields":{"slug":"/haveibeenpwned/"},"frontmatter":{"title":"ğŸ´â€â˜ ï¸ haveibeenpwned.com - er dit password lÃ¦kket?"}}},{"node":{"id":"f4ecf7d9-f629-5a3e-9705-9ae79492e879","fields":{"slug":"/arctic-mx2-thermal-compound-testing/"},"frontmatter":{"title":"â„ï¸ Arctic MX2 Thermal Compound"}}},{"node":{"id":"f5270d3c-a591-54db-a8d6-216826a3c860","fields":{"slug":"/server-services-sh/"},"frontmatter":{"title":"ğŸ•â€ğŸ¦º server-services"}}},{"node":{"id":"6a995d76-f15b-5d34-a103-fc73921105d0","fields":{"slug":"/router-reboot/"},"frontmatter":{"title":"ğŸ›Ÿ router-reboot"}}},{"node":{"id":"d628e0fd-b259-5e93-8f9d-010759e0ba71","fields":{"slug":"/confirm-sh/"},"frontmatter":{"title":"ğŸ«¡ confirm"}}},{"node":{"id":"06a00f8a-0ac5-5c72-af9a-713bcee1437e","fields":{"slug":"/hermitcraft-picker/"},"frontmatter":{"title":"â›ï¸ Hermitcraft Youtube Picker"}}},{"node":{"id":"c30bbe0d-49ef-5dde-8526-e57d69e086b0","fields":{"slug":"/localhost-docker/"},"frontmatter":{"title":"ğŸ³ Lokal startside med Docker"}}},{"node":{"id":"75d5549c-0a7b-5031-b004-696da0a39ac4","fields":{"slug":"/password-generators/"},"frontmatter":{"title":"ğŸ’» Password generators"}}},{"node":{"id":"6ed4f0d2-86c5-53b2-92d8-7532a164a3cd","fields":{"slug":"/linkhandler-sh/"},"frontmatter":{"title":"ğŸ’» linkhandler %url%"}}},{"node":{"id":"cb546a58-959b-5503-a763-4bfc475b6e1f","fields":{"slug":"/hibp-lookup/"},"frontmatter":{"title":"ğŸ’» hibp %pw%"}}},{"node":{"id":"6aa194f8-bb92-5d5e-98f6-a39da1e24b34","fields":{"slug":"/pomodoro-sh/"},"frontmatter":{"title":"ğŸ… pomodoro"}}},{"node":{"id":"8774ae1d-20fd-5c32-ae70-5adbb42fd7ab","fields":{"slug":"/folder-backup-with-python/"},"frontmatter":{"title":"ğŸ—œï¸ python-zip-folder"}}},{"node":{"id":"35fb5af6-7a93-50d1-a4f8-0770b57a7da1","fields":{"slug":"/tingfinder-py/"},"frontmatter":{"title":"ğŸ” tingfinder.py"}}},{"node":{"id":"e7696277-7c4f-5e37-aa36-a25b1188d46f","fields":{"slug":"/notevim/"},"frontmatter":{"title":"ğŸ—’ï¸ nvim notetaker"}}},{"node":{"id":"bdbb0f2f-d078-5fd6-a323-ac38cfe50117","fields":{"slug":"/adhd-tech/"},"frontmatter":{"title":"ğŸ§  ADHD og TECH"}}},{"node":{"id":"13a002d2-ec72-5b30-9a76-61c22b87ac11","fields":{"slug":"/nvmacropad/"},"frontmatter":{"title":"ğŸ¤– NV Macropad - Prototype"}}},{"node":{"id":"47920522-a8db-5831-8284-bdc90833e7e6","fields":{"slug":"/bankehuset-projekt/"},"frontmatter":{"title":"ğŸ›€ BANKEHUSET badevands projektet"}}},{"node":{"id":"d66728e3-5bb7-5918-8b40-1789a8a4ff4f","fields":{"slug":"/send-data-med-mqtt-python/"},"frontmatter":{"title":"ğŸ“ˆ Send MQTT data til din MQTT broker med Python "}}}]},"previous":{"fields":{"slug":"/smart-doer-telephone/"},"frontmatter":{"title":"ğŸ“¡ Hverdagshack: Smart DÃ¸rtelephone med Blynk"}},"next":{"fields":{"slug":"/rapid-prototyping/"},"frontmatter":{"title":"ğŸ’¨ Rapid prototyping i react (nÃ¥r du vitterligt ikke kan finde ud af noget!)"}}},"pageContext":{"id":"15018002-2579-5a56-ac2a-552428c21359","series":null,"previousPostId":"fde0ad94-0739-54e2-839a-ce71725866da","nextPostId":"017f0593-153d-5356-a05c-799818cb8779"}},"staticQueryHashes":[]}